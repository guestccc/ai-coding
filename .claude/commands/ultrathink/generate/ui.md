# /ut:generate/ui

**命令描述**: 调用UI设计师Agent生成原型设计文档
**交互消耗**: 🟡 中消耗 (3-4次)
**激活Agent**: ui-designer.md

## 命令用法

```bash
/ut:generate/ui [基于PRD和API规范]
```

## 前置依赖

- ✅ 必须存在: `docs/PRD.md`
- 📋 建议存在: `docs/architecture.md`, `docs/openapi.yaml`

## 执行流程

### 1. 需求分析阶段
- **输入**: @docs/PRD.md + @docs/openapi.yaml
- **处理**: 提取用户角色、功能需求、交互流程
- **输出**: UI需求清单

### 2. 用户体验设计
```yaml
用户研究:
  - 用户画像分析 (年龄、技术熟练度、使用场景)
  - 用户目标和痛点识别
  - 使用场景和用户旅程

信息架构:
  - 页面层次规划
  - 导航体系设计
  - 信息流向分析
```

### 3. 视觉设计系统
建立完整的设计系统：
```yaml
色彩系统:
  主色调: 品牌色彩定义
  辅助色: 功能色彩 (成功、警告、错误)
  中性色: 文本、背景、边框色彩

字体系统:
  主字体: 正文阅读字体
  标题字体: 层次化标题字体
  字号规范: 12px-48px规范体系

间距系统:
  基础单位: 4px/8px基础网格
  组件间距: 8px, 16px, 24px, 32px
  版面间距: 48px, 64px, 96px
```

### 4. 响应式设计规范
```yaml
断点管理:
  移动端 (Mobile): 0px - 640px
  平板端 (Tablet): 641px - 1024px  
  桌面端 (Desktop): 1025px+

适配策略:
  Mobile First: 移动端优先设计
  渐进增强: 从小屏到大屏扩展
  内容优先级: P0核心功能优先显示
```

## 输出文件

**主要输出**: `docs/prototype.md`
```yaml
文档结构:
  1. 设计概述
  2. 视觉设计系统
  3. 组件库规范
  4. 页面设计规范
  5. 交互行为定义
  6. 响应式适配方案
  7. 用户流程设计
  8. 实施指南
```

**次要输出**:
- `docs/design-system.md` - 设计系统文档
- `project/context/ui-components.md` - 组件清单
- `assets/design/` - 设计资源文件夹

## 核心组件库

### 基础组件
```yaml
Button: 主要、次要、危险按钮
Input: 文本输入、密码、数字输入
Select: 下拉选择器、多选器
Checkbox: 复选框、开关
Radio: 单选按钮组
```

### 复合组件
```yaml
Form: 表单容器和验证
Table: 数据表格和分页
Card: 信息卡片容器
Modal: 模态框和抽屉
Navigation: 导航菜单和面包屑
```

### 反馈组件
```yaml
Alert: 提示信息 (成功、警告、错误)
Loading: 加载状态 (骨架屏、spinner)
Progress: 进度条和步骤条
Toast: 消息提示
Empty: 空状态页面
```

## 交互设计模式

### 导航模式
```yaml
标签导航: 平级内容切换
汉堡菜单: 层级导航收纳
抽屉导航: 侧滑菜单展示
底部导航: 移动端主要功能
```

### 输入模式
```yaml
即时验证: 实时输入检查
批量操作: 多选与批量处理
拖拽操作: 文件上传、排序
手势操作: 滑动删除、下拉刷新
```

## Agent协作

**上游输入**:
- ← product-manager.md (用户需求、用户故事)
- ← architect.md (技术约束、API契约)

**下游输出**:
- → frontend-developer.md (组件实现规范)
- → integration.md (UI测试规范)

## 质量标准

- ✅ 设计系统完整且一致
- ✅ 响应式设计覆盖所有断点
- ✅ 组件库有完整的使用规范
- ✅ 用户流程清晰无歧义
- ✅ 无障碍设计符合WCAG 2.1
- ✅ 与业务需求完全匹配

## 原型验证检查

- **一致性检查**: 组件样式和交互一致
- **可用性检查**: 用户任务流程顺畅
- **响应式检查**: 各设备显示效果
- **无障碍检查**: 支持屏幕阅读器和键盘导航

## 示例用法

```bash
# 基于PRD和API生成原型
/ut:generate/ui

# 指定设计风格
/ut:generate/ui "Material Design风格"

# 专注移动端设计
/ut:generate/ui "Mobile First + PWA"
```

## 最佳实践

1. **用户为中心**: 以用户需求和目标为设计导向
2. **一致性原则**: 界面元素和交互行为保持一致
3. **可访问性**: 支持不同能力用户的使用需求
4. **性能优化**: 图片压缩、懒加载、关键CSS内联