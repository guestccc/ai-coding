# Standard Mode (标准模式) v1.2.0

**适用场景**: 平衡质量与效率的常规开发
**核心理念**: 完整开发流程，生产就绪，标准质量

## 🎯 模式特征

### 核心原则
```yaml
质量平衡: 功能完整性 = 代码质量 = 开发效率
标准流程: 完整开发生命周期，标准质量检查
生产就绪: 可直接部署的生产级代码
最佳实践: 遵循行业标准和最佳实践
```

### 适用条件
```yaml
时间约束: 剩余交互次数 6-15次
项目类型: 商业应用、正式产品、团队项目
质量要求: 生产级质量标准
团队情况: 正常开发节奏，标准质量要求
```

## ⚖️ 行为调节策略

### Agent行为标准化
```yaml
product-manager Agent:
  PRD文档: 完整需求分析，详细用户故事
  用户画像: 完整用户研究，多场景考虑
  验收标准: 明确可测试的验收条件
  优先级管理: P0/P1/P2清晰划分

architect Agent:
  架构设计: 完整技术架构，多方案评估
  技术选型: 基于项目需求的理性选择
  API设计: RESTful设计，完整错误处理
  数据模型: 规范化设计，合理索引策略

ui-designer Agent:
  原型设计: 完整用户界面，一致设计系统
  响应式设计: 全设备适配，标准断点
  交互设计: 完整交互流程，用户体验优化
  组件库: 可复用组件系统

frontend-developer Agent:
  组件开发: 模块化组件，标准状态管理
  代码结构: 清晰分层，良好可维护性
  测试策略: 80%覆盖率，单元+集成测试
  性能优化: 基础性能优化，懒加载等

backend-developer Agent:
  API实现: 完整CRUD，统一错误处理
  数据模型: 完整关联关系，事务处理
  安全措施: JWT认证，输入验证，HTTPS
  性能设计: 查询优化，缓存策略

integration Agent:
  测试范围: 完整功能测试，边界测试
  质量检查: 代码规范，性能基准测试
  部署准备: CI/CD配置，环境管理
```

### 命令执行标准化
```yaml
文档生成命令:
  /ut:generate/prd: 完整PRD文档，标准模板
  /ut:generate/arch: 详细技术架构，设计文档
  /ut:generate/api: 完整OpenAPI规范，示例丰富
  /ut:generate/ui: 完整原型设计，组件规范

代码生成命令:
  /ut:code/frontend: 生产级前端，完整功能
  /ut:code/backend: 生产级后端，完整API
  /ut:code/mock: 完整Mock服务，多场景数据
  /ut:code/integrate: 完整集成测试，E2E覆盖

验证检查命令:
  /ut:validate/specs: 完整文档验证，一致性检查
  /ut:validate/api: API规范验证，契约测试
  /ut:validate/coverage: 80%覆盖率目标，质量报告
```

## 🏗️ 输出风格标准化

### 代码生成特点
```yaml
代码风格:
  注释程度: 充分注释，API文档完整
  错误处理: 完善错误处理，统一错误格式
  设计模式: 适当使用设计模式，避免过度设计
  性能优化: 标准性能优化，关键路径优化

文件结构:
  目录层次: 清晰分层，合理模块划分
  模块分离: 职责清晰，低耦合高内聚
  配置文件: 环境化配置，开发/生产分离

测试策略:
  测试类型: 单元测试 + 集成测试 + E2E测试
  覆盖率目标: 80%，核心业务90%+
  测试数据: 完整测试用例，边界条件覆盖
  持续集成: CI/CD管道，自动化测试
```

### 文档生成特点
```yaml
文档内容:
  详细程度: 完整描述，适当示例
  示例数量: 3-5个实用示例
  最佳实践: 包含相关最佳实践说明
  扩展内容: 考虑后续扩展和维护

格式风格:
  结构层次: 完整结构，3-4层嵌套
  内容密度: 平衡信息密度和可读性
  图表使用: 适当图表，架构图+流程图
  交叉引用: 文档间关联和引用
```

## 🛠️ 技术选择标准化

### 前端技术标准
```yaml
React生态:
  状态管理: Context + useReducer / Zustand
  路由管理: React Router完整配置
  UI组件: 组件库 + 自定义组件
  构建工具: Vite优化配置

样式方案:
  CSS方案: Tailwind CSS + 组件样式
  响应式: 完整断点适配 (mobile/tablet/desktop)
  主题系统: 可配置主题，暗色模式支持
  
开发体验:
  类型检查: 严格TypeScript配置
  代码规范: ESLint + Prettier
  开发工具: Hot Reload + DevTools
```

### 后端技术标准
```yaml
Express.js生态:
  中间件: 完整中间件栈，安全+日志+压缩
  认证方案: JWT + 刷新Token机制
  数据验证: Zod完整验证规则
  API文档: 自动生成API文档

数据库设计:
  ORM选择: Prisma完整功能
  数据模型: 完整关联关系，约束完整
  索引设计: 查询优化索引策略
  迁移管理: 版本化数据库迁移

部署方案:
  容器化: 完整Docker配置，多阶段构建
  环境配置: 完整环境变量管理
  监控日志: 结构化日志，错误追踪
  CI/CD: GitHub Actions完整管道
```

## 📏 质量标准设定

### 代码质量门禁
```yaml
测试要求:
  单元测试覆盖率: ≥80%
  核心业务覆盖率: ≥90%
  集成测试: 100% API端点覆盖
  E2E测试: 100% P0功能覆盖

代码规范:
  TypeScript: strict模式，0 any类型
  ESLint: 0警告，自定义规则集
  代码重复: DRY原则，复用率>80%
  圈复杂度: 单个函数<10

性能要求:
  API响应时间: <500ms (95%ile)
  页面首屏加载: <3s
  Bundle大小: <500KB (gzipped)
  Lighthouse评分: ≥90
```

### 文档质量标准
```yaml
完整性要求:
  PRD覆盖率: 90% 功能需求有文档
  API文档: 100% 端点有规范描述
  代码文档: 核心模块有使用说明
  部署文档: 完整环境搭建指南

一致性检查:
  命名规范: 统一命名约定
  格式标准: 统一文档模板
  版本同步: 文档与代码版本一致
  链接有效: 内外链接可访问
```

### 安全标准
```yaml
认证授权:
  JWT Token: 安全密钥，合理过期时间
  权限控制: RBAC角色权限模型
  会话管理: 安全会话处理

数据安全:
  输入验证: 完整输入清理和验证
  SQL注入: 参数化查询，ORM保护
  XSS防护: 输出转义，CSP头设置
  敏感数据: 密码哈希，数据加密
```

## ⏱️ 时间分配策略

### 标准时间分配 (总预算10-12次)
```yaml
需求分析阶段: 2次
  PRD生成: 1次
  需求验证和细化: 1次

设计阶段: 3次  
  技术架构设计: 1次
  API规范设计: 1次
  UI原型设计: 1次

开发阶段: 5-6次
  前端开发: 2-3次
  后端开发: 2-3次
  Mock服务: 0.5次 (与开发并行)

集成测试阶段: 1-2次
  前后端集成: 1次  
  完整测试验证: 1次

阶段重点:
  T1-T2: 完整需求分析，详细PRD
  T3-T5: 完整设计，技术架构确定  
  T6-T10: 完整功能开发
  T11-T12: 系统集成，质量验证
```

## 🔄 自动切换逻辑

### 进入Standard模式条件
```yaml
时间触发:
  剩余交互 6-15次 → 默认选择
  正常开发节奏

项目触发:
  商业应用项目
  团队协作项目
  正式产品开发

质量触发:
  生产环境部署需求
  标准质量要求
  长期维护需求
```

### 切换到其他模式条件
```yaml
切换到Rush模式:
  剩余交互 ≤ 5次
  时间压力增大
  MVP需求明确

切换到Deep模式:
  剩余交互 ≥ 16次
  复杂技术挑战
  企业级质量要求

切换到Learning模式:
  学习导向项目
  技术探索需求
  详细解释需求
```

## 💼 Standard模式最佳实践

### 开发策略
```yaml
需求管理:
  完整需求分析: P0/P1功能完整定义
  用户故事完整: 验收标准明确
  边界条件考虑: 异常处理场景

技术实现:
  技术选型平衡: 稳定性+创新性
  架构设计合理: 可扩展可维护
  代码质量标准: 生产就绪代码

测试策略:
  测试金字塔: 70%单元 + 20%集成 + 10%E2E
  自动化测试: CI/CD集成测试
  性能测试: 关键指标监控
```

### 质量保证
```yaml
代码审查:
  同行审查: 代码质量检查
  自动检查: 静态分析工具
  标准遵循: 编码规范检查

文档维护:
  同步更新: 代码变更后文档更新
  版本管理: 文档版本控制
  可用性测试: 文档可用性验证

部署准备:
  环境一致: 开发/测试/生产环境一致
  部署脚本: 自动化部署脚本
  回滚方案: 部署失败回滚预案
```

## 📈 Standard模式示例

### 电商管理系统
```yaml
Standard模式实现范围:
  P0功能: 用户管理、商品管理、订单管理
  P1功能: 库存管理、支付集成、数据统计
  P2功能: 营销活动、推荐系统

技术架构:
  前端: React + TypeScript + Zustand + Tailwind
  后端: Express + Prisma + JWT + Redis
  数据库: PostgreSQL
  部署: Docker + CI/CD

预期交互消耗:
  需求分析: 2次 (详细PRD + 验证)
  技术设计: 3次 (架构 + API + UI)
  前端开发: 3次 (完整前端实现)
  后端开发: 3次 (完整后端实现)  
  集成测试: 2次 (集成 + 验证)
  总计: 13次

质量目标:
  测试覆盖率: 85%
  API响应时间: <400ms
  页面加载时间: <2.5s
  代码质量: A级 (SonarQube)
```

Standard模式提供完整的开发流程和生产级质量，适合绝大多数正式项目开发需求。